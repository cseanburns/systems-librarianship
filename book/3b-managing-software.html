<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Managing Software - Systems Librarianship</title>


        <!-- Custom HTML head -->

        <meta name="description" content="Entry level book on systems librarianship.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Systems Librarianship</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/cseanburns/systems_librarianship" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="managing-software"><a class="header" href="#managing-software">Managing Software</a></h1>
<h2 id="introduction"><a class="header" href="#introduction">Introduction</a></h2>
<p>ManyLinux distributions use a <strong>package manager</strong> to handle the installation, upgrades, and uninstalls of the software on a system.
The Ubuntu distribution uses a package manager called <code>dpkg</code> and a front-end called <code>apt</code> (advanced package tool).
We will use <code>apt</code> to install, update, and remove software from our servers.</p>
<h2 id="sudo"><a class="header" href="#sudo"><code>sudo</code></a></h2>
<p>To use the package manager, we will need the <code>sudo</code> command.
The <code>sudo</code> command allows us to <q>execute a command as another user</q> (see <code>man sudo</code>).
By default, the <code>sudo</code> command <q>executes a command as the superuser</q> (see <code>man 8 sudo</code>).</p>
<p>The name of the <strong>superuser</strong> account is <strong>root</strong>.
Th root user can perform administrative tasks that regular users cannot.
For security purposes, regular accounts may not add, remove, or update software on a system,
nor may they modify most files or directories outside their home directories.
Using <code>sudo</code> allows regular users who have administrative privileges to perform maintenance tasks on our systems
by using executing commands as the root user.
Some consider this safer than logging in as the root user.</p>
<p>Not all regular users can use the <code>sudo</code> command.
On regular Ubuntu distributions, users must belong to the <strong>sudo</strong> group in order to run the <code>sudo</code> command.
The <code>groups</code> command will return a list of groups that your account belongs to.
On the Ubuntu version used by the Google Cloud Platform (GCP), your user should belong in the <strong>google-sudoers</strong> group.
The difference between the <strong>sudo</strong> group on regular Ubuntu distributions and
the <strong>google-sudoers</strong> GCP version is that regular users in the <strong>google-sudoers</strong> group are not prompted for their password.</p>
<p>Down the line, we will use the <code>sudo</code> command to modify files, create directories, and perform other maintenance tasks needed to
install and manage software.
In this lesson, we will use <code>sudo</code> along with the <code>apt</code> commands to update our systems and install software.</p>
<h3 id="sudo-syntax"><a class="header" href="#sudo-syntax"><code>sudo</code> syntax</a></h3>
<p>The <code>sudo</code> command is simple to use.
When necessary, we use <code>sudo</code> by pre-pending it to the regular commands that we have already learned.
In our home directories, for example, we don't need to use <code>sudo</code> to create a new directory with the <code>mkdir</code> command.
Instead we type something like <code>mkdir data</code> to create a new directory/folder called <strong>data</strong>.
But our regular user doesn't own the files or directories outside our home directory.
For example, when we downloaded my <code>bash</code> scripts to the <code>/usr/local/bin</code> directory,
we used <code>sudo</code> since don't own that directory.
If I want to create a <strong>data</strong> directory in <strong>/usr/local/bin</strong>, then I have to use sudo at the beginning of my command:</p>
<pre><code>cd /usr/local/bin
sudo mkdir data
</code></pre>
<p>Or, without changing to that directory, I can just specify the full path:</p>
<pre><code>sudo mkdir /usr/local/bin/data
</code></pre>
<p>Or if I want to create a file in some other directory outside my home directory, then I have to use sudo there, too:</p>
<pre><code>cd /srv
sudo touch data.csv
</code></pre>
<p>Or, without changing to that directory, I can specify the full path:</p>
<pre><code>sudo touch /srv/data.csv
</code></pre>
<h2 id="apt"><a class="header" href="#apt">apt</a></h2>
<p>We will use <code>sudo</code> in the above ways soon enough, but for now, we will use <code>sudo</code> to install, update,
and uninstall software on our systems.</p>
<p>Next I'll demonstrate the <code>apt</code> commands that we'll need.</p>
<h3 id="sudo-apt-update"><a class="header" href="#sudo-apt-update"><code>sudo apt update</code></a></h3>
<p>Your system keeps a record of what software is installed on your system and their version numbers.
The <code>sudo apt update</code> command updates that list and compares the update to what's installed.
That is, if you have a piece of software called <strong>acme1.1</strong> on your system, and <strong>acme1.2</strong> is available, then
running <code>sudo apt update</code> will let you know that you can upgrade to <strong>acme1.2</strong>.
It's good practice to run <code>sudo apt update</code> before installing or upgrading your system.
This lets your system upgrade to the most recent version of what you want to install.</p>
<p>In short, the command to download new package information is:</p>
<pre><code>sudo apt update
</code></pre>
<h3 id="sudo-apt-upgrade"><a class="header" href="#sudo-apt-upgrade"><code>sudo apt upgrade</code></a></h3>
<p>Once the list of packages have been updated, you can <strong>upgrade</strong> with the <code>sudo apt upgrade</code> command if there are any upgrades.
When you run this command, and if there are any upgrades, you will be prompted to proceed.
You can press <strong>Y</strong> to proceed, or <strong>N</strong> to cancel.</p>
<p>This command is simply:</p>
<pre><code>sudo apt upgrade
</code></pre>
<h3 id="apt-search"><a class="header" href="#apt-search"><code>apt search</code></a></h3>
<p>If you want to install a piece of software, then you have to install it using its package name.
Sometimes that means we have to search for the name of the package.
This <code>apt</code> command does not require the use of <code>sudo</code>.
<code>sudo</code> is not required because <code>apt search</code> does not modify the system.
It simply helps you search for a package name.</p>
<p>For example, the <code>man</code> pages provide helpful documentation about how to use the commands on our systems, but
the <code>man</code> pages can also be dense and not straightforward.</p>
<p>Fortunately, there's an application called <code>tldr</code>.
This is a community-driven application that provides simple help pages and examples of how to use some of the most commonly used commands.</p>
<p>To search for the <code>tldr</code> package, we execute the following command:</p>
<pre><code>apt search tldr
</code></pre>
<p>This returns a list of results that match the search query.
One of those results is the <code>tldr</code> package, which is simply named <strong>tldr</strong>.
Not all packages are simply named, which is why we need to search for the specific name.</p>
<blockquote>
<p>Note that sometimes when we search for a package, the list of results is quite long.
In those cases, pipe the above command through the <code>less</code> pager to page through the results:
<code>apt search &lt;packagename&gt; | less</code></p>
</blockquote>
<h2 id="apt-show"><a class="header" href="#apt-show"><code>apt show</code></a></h2>
<p>If we want more specific information about a package, we can use the <code>apt show</code> command along with the package name.
Therefore, to get more information about the <code>tldr</code> application, we execute the following command:</p>
<pre><code>apt show tldr
</code></pre>
<p>This will return a fuller description of the package (usually), as well as the URL to the application's website, plus other details.
We do not need to use <code>sudo</code> because we are not modifying the system.
We are only retrieving information.</p>
<h2 id="sudo-apt-install"><a class="header" href="#sudo-apt-install"><code>sudo apt install</code></a></h2>
<p>To install the <code>tldr</code> application, we use the <code>sudo apt install</code> command along with the package name.
We want to make sure that the name of the package is exactly what was returned from the <code>apt search</code> command.
In the <code>tldr</code> case, it's pretty straightforward.
To install:</p>
<pre><code>sudo apt install tldr
</code></pre>
<h2 id="sudo-apt-remove"><a class="header" href="#sudo-apt-remove"><code>sudo apt remove</code></a></h2>
<p>In order to remove a package, we use the <code>sudo apt remove</code> command.
I like to add the <code>--purge</code> option because this also removes system configuration files that I probably do not need.
That is, some applications install configuration files (configs) in the <code>/etc</code> directory.
Adding <code>--purge</code> will remove those configs.</p>
<p>To remove a package and its system configuration files (if any), we run the command with the package name:</p>
<pre><code>sudo apt --purge remove tldr
</code></pre>
<p>Some configs are stored in your home directory.
Generally only end user applications install configs in our home directories.
The <code>--purge</code> option will not remove those configs; instead, we have to remove them manually if we want.</p>
<h3 id="sudo-apt-autoremove"><a class="header" href="#sudo-apt-autoremove"><code>sudo apt autoremove</code></a></h3>
<p>One of the great things about <code>dpkg</code> and <code>apt</code> is that it installs and handles software <strong>dependencies</strong> really well.
Few computer applications are self-contained, and they often require other software to operate.
These other software are called <strong>dependencies</strong>.
When we uninstall (or remove) applications, the package manager does not auto uninstall those dependencies that were installed with it.
We use the <code>autoremove</code> command to uninstall those, which helps keep our systems clean:</p>
<pre><code>sudo apt autoremove
</code></pre>
<h3 id="sudo-apt-clean"><a class="header" href="#sudo-apt-clean"><code>sudo apt clean</code></a></h3>
<p>When we install packages, some files are installed with them.
The <code>sudo apt clean</code> removes those extra files and frees up disk space.
It's a simple command:</p>
<pre><code>sudo apt clean
</code></pre>
<h2 id="the-dpkg-command"><a class="header" href="#the-dpkg-command">The <code>dpkg</code> Command</a></h2>
<p>If you use Windows, then you are likely familiar with downloading and installing <code>.exe</code> files.
On macOS, the equivalent are <code>.dmg</code> files.
The Ubuntu distribution has an equivalent file.
These are <code>.deb</code> files.
These files can be installed using the <code>dpkg</code> command:</p>
<pre><code>sudo dpkg -i &lt;file_name.deb&gt;`
</code></pre>
<p>Like with <code>exe</code> or <code>dmg</code> files, you want to be careful installing <code>deb</code> files you find on the web.
Unlike software managed by the <code>apt</code> system, these files are not monitored and can contain malicious code.</p>
<p>You can generally use <code>apt</code> to remove applications installed with <code>dpkg</code>.
Or, you can uninstall an application installed with <code>dpkg</code> with <code>dpkg</code>:</p>
<pre><code>sudo dpkg --purge &lt;application_name&gt;
</code></pre>
<p>In most cases, stick with <code>apt</code>.</p>
<h2 id="conclusion"><a class="header" href="#conclusion">Conclusion</a></h2>
<p>The <code>apt</code> command makes it quite easy to manage software on our systems.
We will use this command to install more complicated software later.
Here's a list of commands we covered:</p>
<ul>
<li><code>sudo apt update</code></li>
<li><code>sudo apt upgrade</code></li>
<li><code>apt search</code></li>
<li><code>apt show</code></li>
<li><code>sudo apt install</code></li>
<li><code>sudo apt --purge remove</code></li>
<li><code>sudo apt autoremove</code></li>
<li><code>sudo apt clean</code></li>
</ul>
<h3 id="to-locate-and-install-software"><a class="header" href="#to-locate-and-install-software">To locate and install software</a></h3>
<pre><code>sudo apt update
apt search &lt;package_name&gt;
apt show &lt;package_name&gt;
sudo apt install &lt;package_name&gt;
</code></pre>
<h3 id="to-remove-software-and-purge-related-files"><a class="header" href="#to-remove-software-and-purge-related-files">To remove software and purge related files</a></h3>
<pre><code>sudo apt --purge remove &lt;package_name&gt;
sudo apt autoremove
sudo apt clean
</code></pre>
<h3 id="to-keep-system-up-to-date"><a class="header" href="#to-keep-system-up-to-date">To keep system up to date</a></h3>
<pre><code>sudo apt update
sudo apt upgrade
sudo apt autoremove
sudo apt clean
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="3a-searching-with-grep.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="3c-library-search.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="3a-searching-with-grep.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="3c-library-search.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
