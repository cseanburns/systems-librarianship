<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Using gcloud for Virtual Machines - Systems Librarianship</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="Entry level book on systems librarianship.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="p1-systems-librarianship.html"><strong aria-hidden="true">1.</strong> Systems Librarianship</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="1a-history-linux-unix.html"><strong aria-hidden="true">1.1.</strong> History of Unix and Linux</a></li><li class="chapter-item expanded "><a href="1b-what-is-linux.html"><strong aria-hidden="true">1.2.</strong> What is Linux?</a></li><li class="chapter-item expanded "><a href="1c-what-is-sysadmin.html"><strong aria-hidden="true">1.3.</strong> What is Systems Administration?</a></li><li class="chapter-item expanded "><a href="1d-what-is-syslib.html"><strong aria-hidden="true">1.4.</strong> What is Systems Librarianship?</a></li></ol></li><li class="chapter-item expanded "><a href="p2-project-management-and-CLI.html"><strong aria-hidden="true">2.</strong> Project Management and CLI (Command Line Interface) Introduction</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="2a-using-gcloud-virtual-machines.html" class="active"><strong aria-hidden="true">2.1.</strong> Using gcloud for Virtual Machines</a></li><li class="chapter-item expanded "><a href="2b-learn-the-cli.html"><strong aria-hidden="true">2.2.</strong> Learn the CLI</a></li><li class="chapter-item expanded "><a href="2c-learn-nano.html"><strong aria-hidden="true">2.3.</strong> Using the Nano Text Editor</a></li><li class="chapter-item expanded "><a href="2d-documenting-git-github-markdown.html"><strong aria-hidden="true">2.4.</strong> Documenting with Git, GitHub, and Markdown</a></li></ol></li><li class="chapter-item expanded "><a href="p3-working-on-the-CLI.html"><strong aria-hidden="true">3.</strong> Working on the CLI</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="3a-searching-with-grep.html"><strong aria-hidden="true">3.1.</strong> Searching with grep</a></li><li class="chapter-item expanded "><a href="3b-managing-software.html"><strong aria-hidden="true">3.2.</strong> Managing Software</a></li><li class="chapter-item expanded "><a href="3c-library-search.html"><strong aria-hidden="true">3.3.</strong> Library Search</a></li></ol></li><li class="chapter-item expanded "><a href="p4-creating-a-lamp-server.html"><strong aria-hidden="true">4.</strong> Creating a LAMP Server</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="4a-installing-the-apache-web-server.html"><strong aria-hidden="true">4.1.</strong> Installing the Apache Web Server</a></li><li class="chapter-item expanded "><a href="4b-installing-configuring-php.html"><strong aria-hidden="true">4.2.</strong> Installing and Configuring PHP</a></li><li class="chapter-item expanded "><a href="4c-installing-configuring-mysql.html"><strong aria-hidden="true">4.3.</strong> Installing and Configuring MySQL</a></li></ol></li><li class="chapter-item expanded "><a href="p5-integrated-library-systems.html"><strong aria-hidden="true">5.</strong> DIY Integrated Library Systems</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="5a-introduction-to-relational-databases.html"><strong aria-hidden="true">5.1.</strong> Introduction to Relational Databases</a></li><li class="chapter-item expanded "><a href="5b-basic-opac.html"><strong aria-hidden="true">5.2.</strong> Creating a Bare Bones OPAC</a></li><li class="chapter-item expanded "><a href="5c-basic-opac-admin.html"><strong aria-hidden="true">5.3.</strong> Creating a Bare Bones Cataloging Module</a></li></ol></li><li class="chapter-item expanded "><a href="p6-library-website-project.html"><strong aria-hidden="true">6.</strong> Library Website Project</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="6a-install-wordpress.html"><strong aria-hidden="true">6.1.</strong> Install WordPress</a></li><li class="chapter-item expanded "><a href="6b-install-omeka.html"><strong aria-hidden="true">6.2.</strong> Install Omeka</a></li><li class="chapter-item expanded "><a href="6c-install-koha.html"><strong aria-hidden="true">6.3.</strong> Install the Koha Integrated Library System</a></li></ol></li><li class="chapter-item expanded "><a href="p7-conclusion.html"><strong aria-hidden="true">7.</strong> Conclusion</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Systems Librarianship</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/cseanburns/systems_librarianship" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="using-gcloud-for-virtual-machines"><a class="header" href="#using-gcloud-for-virtual-machines">Using gcloud for Virtual Machines</a></h1>
<h2 id="virtual-machines"><a class="header" href="#virtual-machines">Virtual Machines</a></h2>
<p>Our goal in this section is to create a <strong>virtual machine (VM)</strong> <em>instance</em>.
A VM is basically a virtualized operating system that runs on a host operating system.
That host operating system may also be Linux, but it could be Windows or macOS.
In short, when we use virtual machines, it means instead of installing an operating system
(like Linux, macOS, Windows, etc) on a physical machine, we use virtual machine software to mimic the process.
The virtual machine, thus, runs on top of our main OS.
It's like an app, where the app is a fully functioning operating system.</p>
<p>In this course, we're going to use gcloud (via Google) to provide us with virtual machines.
There are other cloud service providers available that you can explore on your own.
You can also play with <a href="https://www.virtualbox.org/">VirtualBox</a> (on your own), which I've used in prior classes, to install virtual machines
on your own computers.</p>
<h2 id="google-cloud--gcloud"><a class="header" href="#google-cloud--gcloud">Google Cloud / gcloud</a></h2>
<h3 id="google-account"><a class="header" href="#google-account">Google Account</a></h3>
<p>We need to have a personal Google account to get started with gcloud.
I imagine most of you already have a Google account, but if not, go ahead and create one at <a href="https://www.google.com">https://www.google.com</a>.</p>
<h3 id="google-cloud-gcloud-project"><a class="header" href="#google-cloud-gcloud-project">Google Cloud (gcloud) Project</a></h3>
<p>Next we will need to create a project on the <a href="https://cloud.google.com/?hl=en">Google Cloud website</a>.</p>
<p>Follow <strong>Step 1</strong> at the top of the <strong><a href="https://cloud.google.com/sdk/docs/install-sdk">Install the gcloud CLI</a></strong> page to create a new project.
Also, review the page on <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects#gcloud">creating and managing projects</a>.</p>
<p>When you create your project, you can name it anything, but try to name it something to do with this course.
E.g., I am using the name <strong>syslib-YEAR</strong> (replace <strong>YEAR</strong> with the actual year).
Avoid using spaces when naming your project.</p>
<p>Then click on the <strong>Create</strong> button, and leave the organization field set to <strong>No Organization</strong>.</p>
<h3 id="google-billing"><a class="header" href="#google-billing">Google Billing</a></h3>
<p>The second thing to do is to set up a billing account for your gcloud project.
This does mean there is a cost associated with this product,
but the good news is that our bills by the end of the semester should only amount to $5 to 10 dollars, at most.
<strong><a href="https://cloud.google.com/sdk/docs/install-sdk">Follow Step 2</a></strong> to enable billing for your new project.
See also the page on how to <strong><a href="https://cloud.google.com/billing/docs/how-to/manage-billing-account">create, modify, or close your self-serve Cloud Billing account</a></strong>.</p>
<p>At the end of the semester, I'll remind you that you may want to delete your virtual machines.
If you don't do this, you will continue to be billed for them.</p>
<h3 id="install-the-gcloud-cli-to-connect-to-our-virtual-machines"><a class="header" href="#install-the-gcloud-cli-to-connect-to-our-virtual-machines">Install the gcloud CLI to connect to our virtual machines</a></h3>
<blockquote>
<p><strong>NOTE:</strong> We install the gcloud CLI to connect to our virtual machines from our personal computers.
I suggest this process because it offers more functionality but it's also a bit advanced.
If you think you'd like to skip this process for now and try later, we can use an alternate method to connect to our virtual machines.
I'll describe the alternate method to connect below in the <strong>Connect to our VM</strong> section.
If you would prefer to use the alternate method, skip to the <strong>gcloud VM Instance section</strong>.</p>
</blockquote>
<p>After you have set up billing, the next step is to install gcloud on your local machines.
The <strong><a href="https://cloud.google.com/sdk/docs/install-sdk">Install the gcloud CLI</a></strong> page provides instructions for different operating systems.</p>
<p>There are installation instructions for macOS, Windows, Chromebooks, and various Linux distributions.
Follow these instructions closely for the operating system that you're using.
Note that for macOS, you have to choose among three different CPU/chip architectures.
If you have an older macOS machine (before November 2020 or so), it's likely that you'll select <strong>macOS 64-bit (x86_64)</strong>.
If you have a newer macOS machine, then it's likely you'll have to select <strong>macOS 64-bit (arm64, Apple M1 silicon).</strong>
It's unlikely that any of you are using a 32-bit macOS operating system.
If you're not sure which macOS system you have, then let me know and I can help you determine the appropriate platform.
Alternatively, follow these instructions to find your processor information:</p>
<ul>
<li>click on the Apple menu</li>
<li>choose <strong>About This Mac</strong></li>
<li>locate the <strong>Processor</strong> or <strong>Chip</strong> information</li>
</ul>
<p>After you have downloaded the gcloud CLI for your particular OS and CPU architecture,
you will need to open a command prompt/terminal on your machines to complete the instructions that describe how to install the gcloud CLI.
macOS uses the Terminal app, which can located using Spotlight.
Windows user can use Command.exe, which can be located by search also.</p>
<p>Windows users will download a regular <strong>.exe</strong> file, but macOS users will download a <strong>.tar.gz</strong> file.
Since macOS is Unix, you can use the <code>mv</code> command to move that file to your <code>$HOME</code> directory.
Then you extract it there using the <code>tar</code> command, and once extracted you can change to the directory that it
creates with the <code>cd</code> command.
For example, if you are downloading the X86_64 version of the gcloud CLI, then you would run the following commands:</p>
<p>For macOS users, this assumes the <strong>.tar.gz</strong> file was downloaded to your default Downloads folder:</p>
<pre><code>cd ~/Downloads/
mv google-cloud-cli-392.0.0-darwin-x86_64.tar.gz ~/
cd ~/
tar -xzf google-cloud-cli-392.0.0-darwin-x86_64.tar.gz
cd google-cloud-sdk
</code></pre>
<p>Modify the above commands, as appropriate, if you're using the M1 or the M2 version of the gcloud CLI.</p>
<h3 id="initializing-the-gcloud-cli"><a class="header" href="#initializing-the-gcloud-cli">Initializing the gcloud CLI</a></h3>
<p><strong>As above, please follow the instructions from the Google Cloud documentation for your operating system.</strong></p>
<p>Once you have downloaded and installed the gcloud CLI program, you need to initialize it on your local machine.
Scroll down on the <a href="https://cloud.google.com/sdk/docs/install-sdk">install page</a> to the section titled <strong>Initializing the gcloud CLI</strong>.
In your terminal/command prompt, run the initialization command, per the instructions at the above page:</p>
<pre><code>gcloud init
</code></pre>
<p>And continue to follow the instructions from the prompt and from the Google Cloud documentation page above.</p>
<h2 id="gcloud-vm-instance"><a class="header" href="#gcloud-vm-instance">gcloud VM Instance</a></h2>
<p>Once you've initialized gcloud, log into <a href="https://console.cloud.google.com/">Google Cloud Console</a>, which should take you to the Dashboard page.</p>
<p>Our first goal is to create a <strong>virtual machine (VM)</strong> <em>instance</em>.
As a reminder, a VM is basically a virtualized operating system.
That means instead of installing an operating system (like Linux, macOS, Windows, etc) on a physical machine,
software is used to mimic the process.</p>
<p>gcloud offers a number of Linux-based operating systems to create VMs.
We're going to use the Ubuntu operating system and specifically the Ubuntu 22.04 LTS version.</p>
<blockquote>
<p>Ubuntu is a Linux distribution.
There are many, many distributions of Linux, and most are probably listed on the <a href="https://distrowatch.com/">DistroWatch</a> site.
A new version of Ubuntu is released every six months.
The 22.04 signifies that this is the April 2022 version.
LTS signifies <strong>Long Term Support</strong>.
LTS versions are released every two years, and Canonical LTD, the owners of Ubuntu,
provide standard support for LTS versions for five years.</p>
<p>LTS versions of Ubuntu are stable.
Non-LTS versions of Ubuntu receive nine months of standard support, and generally apply cutting edge technology,
which is not always desirable for server operating systems.
Each version of Ubuntu has a code name.
24.10 has the code name <strong>Oracular Oriole</strong>.
You can see a list of versions, code names, release dates, and more on Ubuntu's <a href="https://wiki.ubuntu.com/Releases">Releases</a> page.</p>
</blockquote>
<p>We will create our VM using the gcloud console.
To do so, follow these steps from the Project page:</p>
<ul>
<li>Click on the hamburger icon (three vertical bars) in the top left corner.</li>
<li>Click on <strong>Compute Engine</strong> and then <strong>VM instances</strong>.</li>
<li>Enable <strong>Compute Engine API</strong>.</li>
<li>Make sure your project is listed.</li>
<li>Next, click on <strong>Create Instance</strong>.</li>
<li>Provide a name for your <strong>instance</strong>.
<ul>
<li>E.g., I chose <strong>main-ubuntu</strong> (no spaces) but you are free to use any name you prefer</li>
</ul>
</li>
<li>In the <strong>Machine configuration</strong> section, make sure <strong>E2</strong> is selected.</li>
<li>In the <strong>Machine type</strong> section, select <strong>e2-micro (2 vCPU, 1 core, 1 GB memory)</strong>
<ul>
<li>This is the lowest cost virtual machine and perfect for our needs.</li>
</ul>
</li>
<li>In the left navigation section, click on <strong>OS and storage</strong>.
<ul>
<li>Click on <strong>CHANGE</strong>, and a side bar on the right of the screen open up.</li>
<li>In the sidebar, select <strong>Ubuntu</strong> from the <strong>Operating system</strong> drop down box.</li>
<li>Click on <strong>Version</strong> and select <strong>Ubuntu 22.04 LTS x86/64</strong></li>
<li>Leave <strong>Boot disk type</strong> be set to <strong>Balanced persistent disk</strong></li>
<li>Leave disk size to <strong>10 GB</strong>.</li>
<li>Click on the <strong>Select</strong> button.</li>
</ul>
</li>
<li>In the left navigation section, click <strong>Networking</strong>.
<ul>
<li>Check the <strong>Allow HTTP Traffic</strong> button</li>
</ul>
</li>
<li>Finally, click on the <strong>Create</strong> button to create your VM instance.</li>
</ul>
<blockquote>
<p>Later in the semester when we install Koha, we will need to create a virtual machine with more CPUs and memory.
We will be charged more for those machines.
Since we do not yet need the extra resources, we will start off with fairly low powered machines.</p>
</blockquote>
<h2 id="connect-to-our-vm"><a class="header" href="#connect-to-our-vm">Connect to our VM</a></h2>
<p>After the new VM machine has been created, we need to connect to it.</p>
<h3 id="using-gcloud-cli"><a class="header" href="#using-gcloud-cli">Using gcloud CLI</a></h3>
<p>We use a <code>ssh</code> command to connect to our VMs.
The syntax follows this pattern:</p>
<pre><code>gcloud compute ssh --zone "zone-info" "name-info" --project "project-id"
</code></pre>
<p>macOS users will use that command using their Terminal.app.
Windows users can connect to it via their command prompt (CMD.exe or PowerShell).</p>
<p>To get the specific connection command for your virtual instance, click on the <strong>SSH</strong> drop down menu.
Select <strong>View gcloud command</strong>.
Copy and paste that command in your OS terminal.</p>
<h3 id="using-the-web-interface"><a class="header" href="#using-the-web-interface">Using the web interface</a></h3>
<p>If you elected not to install the gcloud CLI, you can connect via the web interface.
Click on the <strong>SSH</strong> drop down menu, and select <strong>Open in browser window</strong>.
This will open a terminal window in your browser.</p>
<h3 id="connection-differences"><a class="header" href="#connection-differences">Connection Differences</a></h3>
<p>If you connect using the gcloud CLI method, your username on your virtual machine will be based on the username on your personal machine.
However, if you connect using the web interface, your username on your virtual machine will be based on your Google account username.
This has important ramifications, especially if you decide to use change connection methods.</p>
<p>The main ramification is that you will have two different home directories on your virtual machine.
For example, if my username for my Google account is <strong>sean_burns</strong>,
then my home directory on the virtual machine will be <strong>/home/sean_burns</strong> if I connect via the web interface.</p>
<p>But if my username on my personal computer is <strong>sean</strong>,
then my home directory on the virtual machine will be <strong>/home/sean</strong> if I connect via the gcloud CLI.</p>
<p>Keep this in mind.</p>
<h3 id="quick-shell-information"><a class="header" href="#quick-shell-information">Quick Shell Information</a></h3>
<p>When you log into your machines, you'll see a command prompt with the following format:</p>
<pre><code>username@machine_name:~$
</code></pre>
<p>This is where we type our commands.
It's not obvious right away, but the command prompt displays our location in the file system.
By default, you will be located in your home directory, which is indicated by the <code>~</code> tilde in your prompt.</p>
<h2 id="update-our-ubuntu-vm"><a class="header" href="#update-our-ubuntu-vm">Update our Ubuntu VM</a></h2>
<p>The VM will include a recently updated version of Ubuntu 22.04, but it may not be completely updated.
Therefore the first thing we need to do is update our machines.
On Ubuntu, we'll use the following commands, which you should run also:</p>
<pre><code>sudo apt update
sudo apt -y upgrade
sudo apt -y autoremove
sudo apt clean
</code></pre>
<p>You should run these commands at least weekly to keep your system updated.</p>
<h2 id="disconnecting"><a class="header" href="#disconnecting">Disconnecting</a></h2>
<p>To exit and disconnect from the remote system, type <code>exit</code>, like so:</p>
<pre><code>exit
</code></pre>
<p>If you are using the gcloud CLI, you should exit back to your personal machine's terminal prompt.
Pay attention to the messages upon logout.
If you get the following message:</p>
<pre><code>Updates are available for some Google Cloud CLI components. To install them, please run:
gcloud components update
</code></pre>
<p>Then run that command in your own terminal app and click <strong>Y</strong> (yes) when prompted:</p>
<pre><code>gcloud components update
</code></pre>
<p>Once updated, you can close your terminal app.</p>
<p>If you are using the web interface, the window should close.</p>
<h2 id="snapshots-optional"><a class="header" href="#snapshots-optional">Snapshots (Optional)</a></h2>
<blockquote>
<p>This is entirely optional at this point.
You may want to consider doing this when we begin to install a LAMP stack and content management systems
because it'll help you recover your system if something gets messed up.
But as of now, if we mess up our system, it's pretty trivial to delete the virtual instance and start a new one.</p>
</blockquote>
<p>Lastly, we have installed a pristine version of Ubuntu, but it's likely that we will mess something up as we work on our systems.
Or it could be that our systems may become compromised at some point.
Therefore, we want to create a snapshot of our newly installed Ubuntu server.
This will allow us to restore our server if something goes wrong later.</p>
<p>To get started:</p>
<ol>
<li>
<p>In the left hand navigation panel, click on <strong>Snapshots</strong>.</p>
</li>
<li>
<p>At the top of the page, click on <strong>Create Snapshot</strong>.</p>
</li>
<li>
<p>Provide a name for your snapshot: e.g., <strong>ubuntu-1</strong>.</p>
</li>
<li>
<p>Provide a description of your snapshot: e.g.,</p>
<p>This is a new install of Ubuntu 22.04.</p>
</li>
<li>
<p>Choose your <strong>Source disk</strong>, which should be the name of your virtual instance (e.g., <strong>main-ubuntu</strong>).</p>
</li>
<li>
<p>Choose a <strong>Location</strong> to store your snapshot.</p>
<ul>
<li>To avoid extra charges, choose <strong>Regional</strong>.</li>
<li>From the drop down box, select the same location (zone-info) your VM has</li>
</ul>
</li>
<li>
<p>Click on <strong>Create</strong></p>
</li>
</ol>
<p><strong><p style="color:red">Please monitor your billing for this to avoid costs that you do not want to incur.</p></strong></p>
<h2 id="conclusion"><a class="header" href="#conclusion">Conclusion</a></h2>
<p>Congratulations!
You have just completed your first installation of a Linux server.</p>
<p>To summarize, in this section, you learned about and created a VM with gcloud.
This is a lot!
After this course is completed, you will be able to fire up a virtual machine on short notice and deploy websites and more.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="p2-project-management-and-CLI.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="2b-learn-the-cli.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="p2-project-management-and-CLI.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="2b-learn-the-cli.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
